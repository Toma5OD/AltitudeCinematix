[debug] [2023-03-26T03:51:03.929Z] ----------------------------------------------------------------------
[debug] [2023-03-26T03:51:03.931Z] Command:       /usr/local/bin/firebase /Users/tomasodalaigh/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only functions --debug
[debug] [2023-03-26T03:51:03.931Z] CLI Version:   11.25.1
[debug] [2023-03-26T03:51:03.931Z] Platform:      darwin
[debug] [2023-03-26T03:51:03.931Z] Node Version:  v16.16.0
[debug] [2023-03-26T03:51:03.933Z] Time:          Sun Mar 26 2023 04:51:03 GMT+0100 (Irish Standard Time)
[debug] [2023-03-26T03:51:03.933Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-26T03:51:04.041Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-26T03:51:04.043Z] > authorizing via signed-in user (tom1996.18@gmail.com)
[debug] [2023-03-26T03:51:04.043Z] [iam] checking project altitudecinematix for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-03-26T03:51:04.045Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions [none]
[debug] [2023-03-26T03:51:04.046Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:51:04.047Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T03:51:04.271Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions 200
[debug] [2023-03-26T03:51:04.275Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T03:51:04.277Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-03-26T03:51:04.280Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-03-26T03:51:04.481Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-03-26T03:51:04.485Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'altitudecinematix'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2023-03-26T03:51:08.386Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix [none]
[debug] [2023-03-26T03:51:08.712Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix 200
[debug] [2023-03-26T03:51:08.713Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix {"projectId":"altitudecinematix","projectNumber":"149776768071","displayName":"AltitudeCinematix","name":"projects/altitudecinematix","resources":{"hostingSite":"altitudecinematix","realtimeDatabaseInstance":"altitudecinematix-default-rtdb","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_fd9e5d2c-e84f-4e9d-b9c5-57640b94e5b8"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-03-26T03:51:08.716Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [none]
[debug] [2023-03-26T03:51:08.717Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:51:08.720Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [none]
[debug] [2023-03-26T03:51:08.721Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:51:08.724Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [none]
[debug] [2023-03-26T03:51:08.725Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:51:08.728Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [none]
[debug] [2023-03-26T03:51:08.729Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:51:09.152Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com 200
[debug] [2023-03-26T03:51:09.153Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-03-26T03:51:09.200Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com 200
[debug] [2023-03-26T03:51:09.201Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-03-26T03:51:09.673Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com 200
[debug] [2023-03-26T03:51:09.675Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-03-26T03:51:09.680Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com 200
[debug] [2023-03-26T03:51:09.681Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-03-26T03:51:09.682Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig [none]
[debug] [2023-03-26T03:51:10.076Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig 200
[debug] [2023-03-26T03:51:10.077Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig {"projectId":"altitudecinematix","databaseURL":"https://altitudecinematix-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"}
[debug] [2023-03-26T03:51:10.078Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs [none]
[debug] [2023-03-26T03:51:11.000Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs 200
[debug] [2023-03-26T03:51:11.002Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs {}
[debug] [2023-03-26T03:51:11.009Z] Validating nodejs source
[debug] [2023-03-26T03:51:11.851Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.1.0",
    "@ffprobe-installer/ffprobe": "^2.0.0",
    "@types/ffprobe": "^1.1.4",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-26T03:51:11.852Z] Building nodejs source
[debug] [2023-03-26T03:51:11.853Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-26T03:51:11.870Z] Found firebase-functions binary at '/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/.bin/firebase-functions'
[debug] [2023-03-26T03:51:12.409Z] Serving at port 8547

[debug] [2023-03-26T03:51:12.650Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Could not find ffmpeg executable, tried "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg", "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/ffmpeg/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg" and "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg"
[debug] [2023-03-26T03:51:12.664Z] shutdown requested via /__/quitquitquit

[error] Error: Failed to parse build specification:
[error] - FirebaseError Expect manifest yaml to specify a version number
[debug] [2023-03-26T03:53:14.585Z] ----------------------------------------------------------------------
[debug] [2023-03-26T03:53:14.587Z] Command:       /usr/local/bin/firebase /Users/tomasodalaigh/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only functions --debug
[debug] [2023-03-26T03:53:14.587Z] CLI Version:   11.25.1
[debug] [2023-03-26T03:53:14.587Z] Platform:      darwin
[debug] [2023-03-26T03:53:14.587Z] Node Version:  v16.16.0
[debug] [2023-03-26T03:53:14.589Z] Time:          Sun Mar 26 2023 04:53:14 GMT+0100 (Irish Standard Time)
[debug] [2023-03-26T03:53:14.589Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-26T03:53:14.700Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-26T03:53:14.701Z] > authorizing via signed-in user (tom1996.18@gmail.com)
[debug] [2023-03-26T03:53:14.702Z] [iam] checking project altitudecinematix for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-03-26T03:53:14.704Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions [none]
[debug] [2023-03-26T03:53:14.705Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:53:14.706Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T03:53:14.935Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions 200
[debug] [2023-03-26T03:53:14.939Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T03:53:14.941Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-03-26T03:53:14.943Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-03-26T03:53:15.162Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-03-26T03:53:15.166Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'altitudecinematix'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2023-03-26T03:53:19.189Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix [none]
[debug] [2023-03-26T03:53:19.526Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix 200
[debug] [2023-03-26T03:53:19.527Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix {"projectId":"altitudecinematix","projectNumber":"149776768071","displayName":"AltitudeCinematix","name":"projects/altitudecinematix","resources":{"hostingSite":"altitudecinematix","realtimeDatabaseInstance":"altitudecinematix-default-rtdb","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_fd9e5d2c-e84f-4e9d-b9c5-57640b94e5b8"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-03-26T03:53:19.529Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [none]
[debug] [2023-03-26T03:53:19.530Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:53:19.533Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [none]
[debug] [2023-03-26T03:53:19.534Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:53:19.538Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [none]
[debug] [2023-03-26T03:53:19.539Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:53:19.541Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [none]
[debug] [2023-03-26T03:53:19.542Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:53:20.403Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com 200
[debug] [2023-03-26T03:53:20.404Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-03-26T03:53:20.439Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com 200
[debug] [2023-03-26T03:53:20.440Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-03-26T03:53:20.442Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com 200
[debug] [2023-03-26T03:53:20.443Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-03-26T03:53:20.457Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com 200
[debug] [2023-03-26T03:53:20.457Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-03-26T03:53:20.458Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig [none]
[debug] [2023-03-26T03:53:20.800Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig 200
[debug] [2023-03-26T03:53:20.801Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig {"projectId":"altitudecinematix","databaseURL":"https://altitudecinematix-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"}
[debug] [2023-03-26T03:53:20.803Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs [none]
[debug] [2023-03-26T03:53:21.543Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs 200
[debug] [2023-03-26T03:53:21.545Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs {}
[debug] [2023-03-26T03:53:21.552Z] Validating nodejs source
[debug] [2023-03-26T03:53:22.671Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.1.0",
    "@ffprobe-installer/ffprobe": "^2.0.0",
    "@types/ffprobe": "^1.1.4",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-26T03:53:22.672Z] Building nodejs source
[debug] [2023-03-26T03:53:22.673Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-26T03:53:22.690Z] Found firebase-functions binary at '/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/.bin/firebase-functions'
[debug] [2023-03-26T03:53:23.242Z] Serving at port 8604

[debug] [2023-03-26T03:53:23.506Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Could not find ffmpeg executable, tried "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg", "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/ffmpeg/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg" and "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg"
[debug] [2023-03-26T03:53:23.521Z] shutdown requested via /__/quitquitquit

[error] Error: Failed to parse build specification:
[error] - FirebaseError Expect manifest yaml to specify a version number
[debug] [2023-03-26T03:57:49.227Z] ----------------------------------------------------------------------
[debug] [2023-03-26T03:57:49.229Z] Command:       /usr/local/bin/firebase /Users/tomasodalaigh/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only functions --debug
[debug] [2023-03-26T03:57:49.229Z] CLI Version:   11.25.1
[debug] [2023-03-26T03:57:49.230Z] Platform:      darwin
[debug] [2023-03-26T03:57:49.230Z] Node Version:  v16.16.0
[debug] [2023-03-26T03:57:49.232Z] Time:          Sun Mar 26 2023 04:57:49 GMT+0100 (Irish Standard Time)
[debug] [2023-03-26T03:57:49.232Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-26T03:57:49.344Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-26T03:57:49.345Z] > authorizing via signed-in user (tom1996.18@gmail.com)
[debug] [2023-03-26T03:57:49.346Z] [iam] checking project altitudecinematix for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-03-26T03:57:49.348Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions [none]
[debug] [2023-03-26T03:57:49.349Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:57:49.350Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T03:57:49.579Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions 200
[debug] [2023-03-26T03:57:49.584Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T03:57:49.586Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-03-26T03:57:49.590Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-03-26T03:57:50.273Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-03-26T03:57:50.276Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'altitudecinematix'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2023-03-26T03:57:54.321Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix [none]
[debug] [2023-03-26T03:57:54.657Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix 200
[debug] [2023-03-26T03:57:54.658Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix {"projectId":"altitudecinematix","projectNumber":"149776768071","displayName":"AltitudeCinematix","name":"projects/altitudecinematix","resources":{"hostingSite":"altitudecinematix","realtimeDatabaseInstance":"altitudecinematix-default-rtdb","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_fd9e5d2c-e84f-4e9d-b9c5-57640b94e5b8"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-03-26T03:57:54.661Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [none]
[debug] [2023-03-26T03:57:54.662Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:57:54.665Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [none]
[debug] [2023-03-26T03:57:54.666Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:57:54.669Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [none]
[debug] [2023-03-26T03:57:54.670Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:57:54.672Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [none]
[debug] [2023-03-26T03:57:54.673Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T03:57:55.512Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com 200
[debug] [2023-03-26T03:57:55.514Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-03-26T03:57:55.526Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com 200
[debug] [2023-03-26T03:57:55.527Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-03-26T03:57:55.560Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com 200
[debug] [2023-03-26T03:57:55.562Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-03-26T03:57:55.586Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com 200
[debug] [2023-03-26T03:57:55.587Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-03-26T03:57:55.588Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig [none]
[debug] [2023-03-26T03:57:55.995Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig 200
[debug] [2023-03-26T03:57:55.996Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig {"projectId":"altitudecinematix","databaseURL":"https://altitudecinematix-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"}
[debug] [2023-03-26T03:57:55.997Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs [none]
[debug] [2023-03-26T03:57:56.718Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs 200
[debug] [2023-03-26T03:57:56.719Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs {}
[debug] [2023-03-26T03:57:56.727Z] Validating nodejs source
[debug] [2023-03-26T03:57:58.217Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.1.0",
    "@ffprobe-installer/ffprobe": "^2.0.0",
    "@types/ffprobe": "^1.1.4",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.1"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-26T03:57:58.217Z] Building nodejs source
[debug] [2023-03-26T03:57:58.219Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-26T03:57:58.263Z] Found firebase-functions binary at '/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/.bin/firebase-functions'
[debug] [2023-03-26T03:57:58.803Z] Serving at port 8210

[debug] [2023-03-26T03:57:59.040Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Could not find ffmpeg executable, tried "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg", "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/ffmpeg/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg" and "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg"
[debug] [2023-03-26T03:57:59.057Z] shutdown requested via /__/quitquitquit

[error] Error: Failed to parse build specification:
[error] - FirebaseError Expect manifest yaml to specify a version number
[debug] [2023-03-26T04:13:11.183Z] ----------------------------------------------------------------------
[debug] [2023-03-26T04:13:11.184Z] Command:       /usr/local/bin/firebase /Users/tomasodalaigh/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only functions --debug
[debug] [2023-03-26T04:13:11.185Z] CLI Version:   11.25.1
[debug] [2023-03-26T04:13:11.185Z] Platform:      darwin
[debug] [2023-03-26T04:13:11.185Z] Node Version:  v16.16.0
[debug] [2023-03-26T04:13:11.190Z] Time:          Sun Mar 26 2023 05:13:11 GMT+0100 (Irish Standard Time)
[debug] [2023-03-26T04:13:11.190Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-26T04:13:11.303Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-26T04:13:11.305Z] > authorizing via signed-in user (tom1996.18@gmail.com)
[debug] [2023-03-26T04:13:11.306Z] [iam] checking project altitudecinematix for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-03-26T04:13:11.308Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions [none]
[debug] [2023-03-26T04:13:11.309Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:13:11.310Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:13:11.571Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions 200
[debug] [2023-03-26T04:13:11.573Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:13:11.576Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-03-26T04:13:11.577Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-03-26T04:13:11.772Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-03-26T04:13:11.775Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'altitudecinematix'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2023-03-26T04:13:16.332Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix [none]
[debug] [2023-03-26T04:13:16.694Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix 200
[debug] [2023-03-26T04:13:16.695Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix {"projectId":"altitudecinematix","projectNumber":"149776768071","displayName":"AltitudeCinematix","name":"projects/altitudecinematix","resources":{"hostingSite":"altitudecinematix","realtimeDatabaseInstance":"altitudecinematix-default-rtdb","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_fd9e5d2c-e84f-4e9d-b9c5-57640b94e5b8"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-03-26T04:13:16.699Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [none]
[debug] [2023-03-26T04:13:16.699Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:13:16.704Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [none]
[debug] [2023-03-26T04:13:16.705Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:13:16.708Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [none]
[debug] [2023-03-26T04:13:16.709Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:13:16.712Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [none]
[debug] [2023-03-26T04:13:16.713Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:13:17.087Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com 200
[debug] [2023-03-26T04:13:17.088Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-03-26T04:13:17.092Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com 200
[debug] [2023-03-26T04:13:17.092Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-03-26T04:13:17.541Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com 200
[debug] [2023-03-26T04:13:17.542Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-03-26T04:13:17.587Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com 200
[debug] [2023-03-26T04:13:17.588Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-03-26T04:13:17.589Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig [none]
[debug] [2023-03-26T04:13:17.947Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig 200
[debug] [2023-03-26T04:13:17.949Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig {"projectId":"altitudecinematix","databaseURL":"https://altitudecinematix-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"}
[debug] [2023-03-26T04:13:17.950Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs [none]
[debug] [2023-03-26T04:13:18.743Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs 200
[debug] [2023-03-26T04:13:18.744Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs {}
[debug] [2023-03-26T04:13:18.751Z] Validating nodejs source
[debug] [2023-03-26T04:13:20.376Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.1.0",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.1"
  },
  "devDependencies": {
    "@ffprobe-installer/ffprobe": "^2.0.0",
    "@types/ffprobe": "^1.1.4",
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "ffprobe": "^1.1.2",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-26T04:13:20.377Z] Building nodejs source
[debug] [2023-03-26T04:13:20.380Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-03-26T04:13:20.423Z] Found firebase-functions binary at '/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/.bin/firebase-functions'
[debug] [2023-03-26T04:13:20.973Z] Serving at port 8216

[debug] [2023-03-26T04:13:21.236Z] Got response from /__/functions.yaml Failed to generate manifest from function source: Could not find ffmpeg executable, tried "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg", "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/ffmpeg/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg" and "/Users/tomasodalaigh/Desktop/GitHub/AltitudeCinematix/functions/node_modules/@ffmpeg-installer/darwin-x64/ffmpeg"
[debug] [2023-03-26T04:13:21.251Z] shutdown requested via /__/quitquitquit

[error] Error: Failed to parse build specification:
[error] - FirebaseError Expect manifest yaml to specify a version number
[debug] [2023-03-26T04:20:43.329Z] ----------------------------------------------------------------------
[debug] [2023-03-26T04:20:43.330Z] Command:       /usr/local/bin/firebase /Users/tomasodalaigh/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only functions --debug
[debug] [2023-03-26T04:20:43.331Z] CLI Version:   11.25.1
[debug] [2023-03-26T04:20:43.331Z] Platform:      darwin
[debug] [2023-03-26T04:20:43.331Z] Node Version:  v16.16.0
[debug] [2023-03-26T04:20:43.336Z] Time:          Sun Mar 26 2023 05:20:43 GMT+0100 (Irish Standard Time)
[debug] [2023-03-26T04:20:43.337Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-26T04:20:43.452Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-26T04:20:43.454Z] > authorizing via signed-in user (tom1996.18@gmail.com)
[debug] [2023-03-26T04:20:43.455Z] [iam] checking project altitudecinematix for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-03-26T04:20:43.457Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions [none]
[debug] [2023-03-26T04:20:43.458Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:20:43.459Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:20:43.733Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions 200
[debug] [2023-03-26T04:20:43.737Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:20:43.739Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-03-26T04:20:43.743Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-03-26T04:20:43.946Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-03-26T04:20:43.949Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'altitudecinematix'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2023-03-26T04:20:48.592Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix [none]
[debug] [2023-03-26T04:20:48.942Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix 200
[debug] [2023-03-26T04:20:48.942Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix {"projectId":"altitudecinematix","projectNumber":"149776768071","displayName":"AltitudeCinematix","name":"projects/altitudecinematix","resources":{"hostingSite":"altitudecinematix","realtimeDatabaseInstance":"altitudecinematix-default-rtdb","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_fd9e5d2c-e84f-4e9d-b9c5-57640b94e5b8"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-03-26T04:20:48.946Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [none]
[debug] [2023-03-26T04:20:48.946Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:20:48.949Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [none]
[debug] [2023-03-26T04:20:48.950Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:20:48.953Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [none]
[debug] [2023-03-26T04:20:48.954Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:20:48.957Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [none]
[debug] [2023-03-26T04:20:48.958Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:20:49.369Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com 200
[debug] [2023-03-26T04:20:49.370Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-03-26T04:20:49.843Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com 200
[debug] [2023-03-26T04:20:49.844Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-03-26T04:20:49.847Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com 200
[debug] [2023-03-26T04:20:49.848Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-03-26T04:20:49.853Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com 200
[debug] [2023-03-26T04:20:49.854Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-03-26T04:20:49.855Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig [none]
[debug] [2023-03-26T04:20:50.212Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig 200
[debug] [2023-03-26T04:20:50.214Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig {"projectId":"altitudecinematix","databaseURL":"https://altitudecinematix-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"}
[debug] [2023-03-26T04:20:50.215Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs [none]
[debug] [2023-03-26T04:20:50.901Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs 200
[debug] [2023-03-26T04:20:50.902Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs {}
[debug] [2023-03-26T04:20:50.909Z] Validating nodejs source
[debug] [2023-03-26T04:20:52.568Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.1.0",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.1"
  },
  "devDependencies": {
    "@ffprobe-installer/ffprobe": "^2.0.0",
    "@types/ffprobe": "^1.1.4",
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "ffprobe": "^1.1.2",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-26T04:20:52.569Z] Building nodejs source
[debug] [2023-03-26T04:20:52.572Z] Found functions.yaml. Got spec: runtime: node16
[error] Error: Failed to parse build specification:
[error] - FirebaseError Expect manifest yaml to specify a version number
[debug] [2023-03-26T04:22:19.669Z] ----------------------------------------------------------------------
[debug] [2023-03-26T04:22:19.670Z] Command:       /usr/local/bin/firebase /Users/tomasodalaigh/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only functions --debug
[debug] [2023-03-26T04:22:19.671Z] CLI Version:   11.25.1
[debug] [2023-03-26T04:22:19.671Z] Platform:      darwin
[debug] [2023-03-26T04:22:19.671Z] Node Version:  v16.16.0
[debug] [2023-03-26T04:22:19.672Z] Time:          Sun Mar 26 2023 05:22:19 GMT+0100 (Irish Standard Time)
[debug] [2023-03-26T04:22:19.673Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-26T04:22:19.806Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-26T04:22:19.808Z] > authorizing via signed-in user (tom1996.18@gmail.com)
[debug] [2023-03-26T04:22:19.809Z] [iam] checking project altitudecinematix for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-03-26T04:22:19.811Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions [none]
[debug] [2023-03-26T04:22:19.812Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:19.813Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:22:20.039Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions 200
[debug] [2023-03-26T04:22:20.043Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:22:20.044Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-03-26T04:22:20.046Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-03-26T04:22:20.239Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-03-26T04:22:20.243Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'altitudecinematix'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2023-03-26T04:22:24.546Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix [none]
[debug] [2023-03-26T04:22:24.884Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix 200
[debug] [2023-03-26T04:22:24.884Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix {"projectId":"altitudecinematix","projectNumber":"149776768071","displayName":"AltitudeCinematix","name":"projects/altitudecinematix","resources":{"hostingSite":"altitudecinematix","realtimeDatabaseInstance":"altitudecinematix-default-rtdb","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_fd9e5d2c-e84f-4e9d-b9c5-57640b94e5b8"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-03-26T04:22:24.889Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [none]
[debug] [2023-03-26T04:22:24.889Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:24.892Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [none]
[debug] [2023-03-26T04:22:24.894Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:24.897Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [none]
[debug] [2023-03-26T04:22:24.897Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:24.899Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [none]
[debug] [2023-03-26T04:22:24.900Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:25.282Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com 200
[debug] [2023-03-26T04:22:25.284Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-03-26T04:22:25.777Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com 200
[debug] [2023-03-26T04:22:25.778Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-03-26T04:22:25.796Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com 200
[debug] [2023-03-26T04:22:25.797Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-03-26T04:22:25.799Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com 200
[debug] [2023-03-26T04:22:25.799Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-03-26T04:22:25.800Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig [none]
[debug] [2023-03-26T04:22:26.150Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig 200
[debug] [2023-03-26T04:22:26.152Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig {"projectId":"altitudecinematix","databaseURL":"https://altitudecinematix-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"}
[debug] [2023-03-26T04:22:26.154Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs [none]
[debug] [2023-03-26T04:22:27.107Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs 200
[debug] [2023-03-26T04:22:27.108Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs {}
[debug] [2023-03-26T04:22:27.115Z] Validating nodejs source
[debug] [2023-03-26T04:22:28.222Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.1.0",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.1"
  },
  "devDependencies": {
    "@ffprobe-installer/ffprobe": "^2.0.0",
    "@types/ffprobe": "^1.1.4",
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "ffprobe": "^1.1.2",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-26T04:22:28.223Z] Building nodejs source
[debug] [2023-03-26T04:22:28.228Z] Found functions.yaml. Got spec: runtime: node16
version: 1

[error] Error: Failed to parse build specification:
[error] - FirebaseError Expect manifest yaml to specify a version number
[debug] [2023-03-26T04:22:47.155Z] ----------------------------------------------------------------------
[debug] [2023-03-26T04:22:47.156Z] Command:       /usr/local/bin/firebase /Users/tomasodalaigh/.cache/firebase/tools/lib/node_modules/firebase-tools/lib/bin/firebase deploy --only functions --debug
[debug] [2023-03-26T04:22:47.156Z] CLI Version:   11.25.1
[debug] [2023-03-26T04:22:47.157Z] Platform:      darwin
[debug] [2023-03-26T04:22:47.157Z] Node Version:  v16.16.0
[debug] [2023-03-26T04:22:47.158Z] Time:          Sun Mar 26 2023 05:22:47 GMT+0100 (Irish Standard Time)
[debug] [2023-03-26T04:22:47.158Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-03-26T04:22:47.271Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-03-26T04:22:47.273Z] > authorizing via signed-in user (tom1996.18@gmail.com)
[debug] [2023-03-26T04:22:47.274Z] [iam] checking project altitudecinematix for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-03-26T04:22:47.275Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions [none]
[debug] [2023-03-26T04:22:47.276Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:47.277Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:22:47.506Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions 200
[debug] [2023-03-26T04:22:47.510Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/altitudecinematix:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-03-26T04:22:47.513Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-03-26T04:22:47.516Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-03-26T04:22:47.722Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-03-26T04:22:47.726Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/altitudecinematix/serviceAccounts/altitudecinematix@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'altitudecinematix'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2023-03-26T04:22:52.308Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix [none]
[debug] [2023-03-26T04:22:52.693Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix 200
[debug] [2023-03-26T04:22:52.694Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix {"projectId":"altitudecinematix","projectNumber":"149776768071","displayName":"AltitudeCinematix","name":"projects/altitudecinematix","resources":{"hostingSite":"altitudecinematix","realtimeDatabaseInstance":"altitudecinematix-default-rtdb","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_fd9e5d2c-e84f-4e9d-b9c5-57640b94e5b8"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-03-26T04:22:52.699Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [none]
[debug] [2023-03-26T04:22:52.701Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:52.706Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [none]
[debug] [2023-03-26T04:22:52.707Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:52.711Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [none]
[debug] [2023-03-26T04:22:52.712Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:52.716Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [none]
[debug] [2023-03-26T04:22:52.717Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com x-goog-quota-user=projects/altitudecinematix
[debug] [2023-03-26T04:22:53.116Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com 200
[debug] [2023-03-26T04:22:53.117Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-03-26T04:22:53.603Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com 200
[debug] [2023-03-26T04:22:53.605Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-03-26T04:22:53.608Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com 200
[debug] [2023-03-26T04:22:53.610Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-03-26T04:22:53.653Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com 200
[debug] [2023-03-26T04:22:53.654Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/altitudecinematix/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-03-26T04:22:53.656Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig [none]
[debug] [2023-03-26T04:22:54.003Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig 200
[debug] [2023-03-26T04:22:54.005Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/altitudecinematix/adminSdkConfig {"projectId":"altitudecinematix","databaseURL":"https://altitudecinematix-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"altitudecinematix.appspot.com","locationId":"europe-west"}
[debug] [2023-03-26T04:22:54.006Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs [none]
[debug] [2023-03-26T04:22:54.769Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs 200
[debug] [2023-03-26T04:22:54.770Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/altitudecinematix/configs {}
[debug] [2023-03-26T04:22:54.776Z] Validating nodejs source
[debug] [2023-03-26T04:22:55.615Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "@ffmpeg-installer/ffmpeg": "^1.1.0",
    "firebase-admin": "^11.5.0",
    "firebase-functions": "^4.2.1"
  },
  "devDependencies": {
    "@ffprobe-installer/ffprobe": "^2.0.0",
    "@types/ffprobe": "^1.1.4",
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "ffprobe": "^1.1.2",
    "firebase-functions-test": "^3.0.0"
  },
  "private": true
}
[debug] [2023-03-26T04:22:55.616Z] Building nodejs source
[debug] [2023-03-26T04:22:55.621Z] Found functions.yaml. Got spec: runtime: node16
version: 1

[error] Error: Failed to parse build specification:
[error] - FirebaseError Expect manifest yaml to specify a version number
